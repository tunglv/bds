var emoticons = [{ "n": "Smile", "i": "emoticon-0100-smile", "e": [":)", ":=)", ":-)"], "p": "(\\:\\)|\\:\\=\\)|\\:\\-\\))", "v": true }, { "n": "Sad Smile", "i": "emoticon-0101-sadsmile", "e": [":(", ":=(", ":-("], "p": "(\\:\\(|\\:\\=\\(|\\:\\-\\()", "v": true }, { "n": "Big Smile", "i": "emoticon-0102-bigsmile", "e": [":D", ":=D", ":-D", ":d", ":=d", ":-d"], "p": "(\\:D|\\:\\=D|\\:\\-D|\\:d|\\:\\=d|\\:\\-d)", "v": true }, { "n": "Cool", "i": "emoticon-0103-cool", "e": ["8)", "8=)", "8-)", "B)", "B=)", "B-)", "(cool)"], "p": "(8\\)|8\\=\\)|8\\-\\)|B\\)|B\\=\\)|B\\-\\)|\\(cool\\))", "v": true }, { "n": "Wink", "i": "emoticon-0105-wink", "e": [":o", ":=o", ":-o", ":O", ":=O", ":-O"], "p": "(\\:o|\\:\\=o|\\:\\-o|\\:O|\\:\\=O|\\:\\-O)", "v": true }, { "n": "Crying", "i": "emoticon-0106-crying", "e": [";(", ";-(", ";=("], "p": "(;\\(|;\\-\\(|;\\=\\()", "v": true }, { "n": "Sweating", "i": "emoticon-0107-sweating", "e": ["(sweat)", "(:|"], "p": "(\\(sweat\\)|\\(\\:\\|)", "v": true }, { "n": "Speechless", "i": "emoticon-0108-speechless", "e": [":|", ":=|", ":-|"], "p": "(\\:\\||\\:\\=\\||\\:\\-\\|)", "v": true }, { "n": "Kiss", "i": "emoticon-0109-kiss", "e": [":*", ":=*", ":-*"], "p": "(\\:\\*|\\:\\=\\*|\\:\\-\\*)", "v": true }, { "n": "Tongue Out", "i": "emoticon-0110-tongueout", "e": [":P", ":=P", ":-P", ":p", ":=p", ":-p"], "p": "(\\:P|\\:\\=P|\\:\\-P|\\:p|\\:\\=p|\\:\\-p)", "v": true }, { "n": "Blush", "i": "emoticon-0111-blush", "e": ["(blush)", ":$", ":-$", ":=$", ":\"&gt;"], "p": "(\\(blush\\)|\\:\\$|\\:\\-\\$|\\:\\=\\$|\\:\"&gt;)", "v": true }, { "n": "Wondering", "i": "emoticon-0112-wondering", "e": [":^)"], "p": "\\:\\^\\)", "v": true }, { "n": "Sleepy", "i": "emoticon-0113-sleepy", "e": ["|-)", "I-)", "I=)", "(snooze)"], "p": "(\\|\\-\\)|I\\-\\)|I\\=\\)|\\(snooze\\))", "v": true }, { "n": "Dull", "i": "emoticon-0114-dull", "e": ["|(", "|-(", "|=("], "p": "(\\|\\(|\\|\\-\\(|\\|\\=\\()", "v": true }, { "n": "In love", "i": "emoticon-0115-inlove", "e": ["(inlove)"], "p": "\\(inlove\\)", "v": true }, { "n": "Evil grin", "i": "emoticon-0116-evilgrin", "e": ["]:)", "&gt;:)", "(grin)"], "p": "(\\]\\:\\)|&gt;\\:\\)|\\(grin\\))", "v": true }, { "n": "Talking", "i": "emoticon-0117-talking", "e": ["(talk)"], "p": "\\(talk\\)", "v": true }, { "n": "Yawn", "i": "emoticon-0118-yawn", "e": ["(yawn)", "|-()"], "p": "(\\(yawn\\)|\\|\\-\\(\\))", "v": true }, { "n": "Puke", "i": "emoticon-0119-puke", "e": ["(puke)", ":&amp;", ":-&amp;", ":=&amp;"], "p": "(\\(puke\\)|\\:&amp;|\\:\\-&amp;|\\:\\=&amp;)", "v": true }, { "n": "Doh!", "i": "emoticon-0120-doh", "e": ["(doh)"], "p": "\\(doh\\)", "v": true }, { "n": "Angry", "i": "emoticon-0121-angry", "e": [":@", ":-@", ":=@", "x(", "x-(", "x=(", "X(", "X-(", "X=("], "p": "(\\:@|\\:\\-@|\\:\\=@|x\\(|x\\-\\(|x\\=\\(|X\\(|X\\-\\(|X\\=\\()", "v": true }, { "n": "It wasn't me", "i": "emoticon-0122-itwasntme", "e": ["(wasntme)"], "p": "\\(wasntme\\)", "v": true }, { "n": "Party!!!", "i": "emoticon-0123-party", "e": ["(party)"], "p": "\\(party\\)", "v": true }, { "n": "Worried", "i": "emoticon-0124-worried", "e": [":S", ":-S", ":=S", ":s", ":-s", ":=s"], "p": "(\\:S|\\:\\-S|\\:\\=S|\\:s|\\:\\-s|\\:\\=s)", "v": true }, { "n": "Mmm...", "i": "emoticon-0125-mmm", "e": ["(mm)"], "p": "\\(mm\\)", "v": true }, { "n": "Nerd", "i": "emoticon-0126-nerd", "e": ["8-|", "B-|", "8|", "B|", "8=|", "B=|", "(nerd)"], "p": "(8\\-\\||B\\-\\||8\\||B\\||8\\=\\||B\\=\\||\\(nerd\\))", "v": true }, { "n": "Lips Sealed", "i": "emoticon-0127-lipssealed", "e": [":x", ":-x", ":X", ":-X", ":#", ":-#", ":=x", ":=X", ":=#"], "p": "(\\:x|\\:\\-x|\\:X|\\:\\-X|\\:#|\\:\\-#|\\:\\=x|\\:\\=X|\\:\\=#)", "v": true }, { "n": "Hi", "i": "emoticon-0128-hi", "e": ["(hi)"], "p": "\\(hi\\)", "v": true }, { "n": "Call", "i": "emoticon-0129-call", "e": ["(call)"], "p": "\\(call\\)", "v": true }, { "n": "Devil", "i": "emoticon-0130-devil", "e": ["(devil)"], "p": "\\(devil\\)", "v": true }, { "n": "Angel", "i": "emoticon-0131-angel", "e": ["(angel)"], "p": "\\(angel\\)", "v": true }, { "n": "Envy", "i": "emoticon-0132-envy", "e": ["(envy)"], "p": "\\(envy\\)", "v": true }, { "n": "Wait", "i": "emoticon-0133-wait", "e": ["(wait)"], "p": "\\(wait\\)", "v": true }, { "n": "Bear", "i": "emoticon-0134-bear", "e": ["(bear)", "(hug)"], "p": "(\\(bear\\)|\\(hug\\))", "v": true }, { "n": "Make-up", "i": "emoticon-0135-makeup", "e": ["(makeup)", "(kate)"], "p": "(\\(makeup\\)|\\(kate\\))", "v": true }, { "n": "Covered Laugh", "i": "emoticon-0136-giggle", "e": ["(giggle)", "(chuckle)"], "p": "(\\(giggle\\)|\\(chuckle\\))", "v": true }, { "n": "Clapping Hands", "i": "emoticon-0137-clapping", "e": ["(clap)"], "p": "\\(clap\\)", "v": true }, { "n": "Thinking", "i": "emoticon-0138-thinking", "e": ["(think)", ":?", ":-?", ":=?"], "p": "(\\(think\\)|\\:\\?|\\:\\-\\?|\\:\\=\\?)", "v": true }, { "n": "Bow", "i": "emoticon-0139-bow", "e": ["(bow)"], "p": "\\(bow\\)", "v": true }, { "n": "Rolling on the floor laughing", "i": "emoticon-0140-rofl", "e": ["(rofl)"], "p": "\\(rofl\\)", "v": true }, { "n": "Whew", "i": "emoticon-0141-whew", "e": ["(whew)"], "p": "\\(whew\\)", "v": true }, { "n": "Happy", "i": "emoticon-0142-happy", "e": ["(happy)"], "p": "\\(happy\\)", "v": true }, { "n": "Smirking", "i": "emoticon-0143-smirk", "e": ["(smirk)"], "p": "\\(smirk\\)", "v": true }, { "n": "Nodding", "i": "emoticon-0144-nod", "e": ["(nod)"], "p": "\\(nod\\)", "v": true }, { "n": "Shaking", "i": "emoticon-0145-shake", "e": ["(shake)"], "p": "\\(shake\\)", "v": true }, { "n": "Punch", "i": "emoticon-0146-punch", "e": ["(punch)"], "p": "\\(punch\\)", "v": true }, { "n": "Emo", "i": "emoticon-0147-emo", "e": ["(emo)"], "p": "\\(emo\\)", "v": true }, { "n": "Yes", "i": "emoticon-0148-yes", "e": ["(y)", "(Y)", "(ok)"], "p": "(\\(y\\)|\\(Y\\)|\\(ok\\))", "v": true }, { "n": "No", "i": "emoticon-0149-no", "e": ["(n)", "(N)"], "p": "(\\(n\\)|\\(N\\))", "v": true }, { "n": "Shaking Hands", "i": "emoticon-0150-handshake", "e": ["(handshake)"], "p": "\\(handshake\\)", "v": true }, { "n": "Skype", "i": "emoticon-0151-skype", "e": ["(skype)", "(ss)"], "p": "(\\(skype\\)|\\(ss\\))", "v": true }, { "n": "Heart", "i": "emoticon-0152-heart", "e": ["(h)", "(H)", "(l)", "(L)"], "p": "(\\(h\\)|\\(H\\)|\\(l\\)|\\(L\\))", "v": true }, { "n": "Broken heart", "i": "emoticon-0153-brokenheart", "e": ["(u)", "(U)"], "p": "(\\(u\\)|\\(U\\))", "v": true }, { "n": "Mail", "i": "emoticon-0154-mail", "e": ["(e)", "(m)"], "p": "(\\(e\\)|\\(m\\))", "v": true }, { "n": "Flower", "i": "emoticon-0155-flower", "e": ["(f)", "(F)"], "p": "(\\(f\\)|\\(F\\))", "v": true }, { "n": "Rain", "i": "emoticon-0156-rain", "e": ["(rain)", "(london)", "(st)"], "p": "(\\(rain\\)|\\(london\\)|\\(st\\))", "v": true }, { "n": "Sun", "i": "emoticon-0157-sun", "e": ["(sun)"], "p": "\\(sun\\)", "v": true }, { "n": "Time", "i": "emoticon-0158-time", "e": ["(o)", "(O)", "(time)"], "p": "(\\(o\\)|\\(O\\)|\\(time\\))", "v": true }, { "n": "Music", "i": "emoticon-0159-music", "e": ["(music)"], "p": "\\(music\\)", "v": true }, { "n": "Movie", "i": "emoticon-0160-movie", "e": ["(~)", "(film)", "(movie)"], "p": "(\\(~\\)|\\(film\\)|\\(movie\\))", "v": true }, { "n": "Phone", "i": "emoticon-0161-phone", "e": ["(mp)", "(ph)"], "p": "(\\(mp\\)|\\(ph\\))", "v": true }, { "n": "Coffee", "i": "emoticon-0162-coffee", "e": ["(coffee)"], "p": "\\(coffee\\)", "v": true }, { "n": "Pizza", "i": "emoticon-0163-pizza", "e": ["(pizza)", "(pi)"], "p": "(\\(pizza\\)|\\(pi\\))", "v": true }, { "n": "Cash", "i": "emoticon-0164-cash", "e": ["(cash)", "(mo)", "($)"], "p": "(\\(cash\\)|\\(mo\\)|\\(\\$\\))", "v": true }, { "n": "Muscle", "i": "emoticon-0165-muscle", "e": ["(muscle)", "(flex)"], "p": "(\\(muscle\\)|\\(flex\\))", "v": true }, { "n": "Cake", "i": "emoticon-0166-cake", "e": ["(^)", "(cake)"], "p": "(\\(\\^\\)|\\(cake\\))", "v": true }, { "n": "Beer", "i": "emoticon-0167-beer", "e": ["(beer)"], "p": "\\(beer\\)", "v": true }, { "n": "Drink", "i": "emoticon-0168-drink", "e": ["(d)", "(D)"], "p": "(\\(d\\)|\\(D\\))", "v": true }, { "n": "Dance", "i": "emoticon-0169-dance", "e": ["(dance)", "\\o/", "\\:D/", "\\:d/"], "p": "(\\(dance\\)|\\\\o/|\\\\\\:D/|\\\\\\:d/)", "v": true }, { "n": "Ninja", "i": "emoticon-0170-ninja", "e": ["(ninja)"], "p": "\\(ninja\\)", "v": false }, { "n": "Star", "i": "emoticon-0171-star", "e": ["(*)"], "p": "\\(\\*\\)", "v": true }, { "n": "Mooning", "i": "emoticon-0172-mooning", "e": ["(mooning)"], "p": "\\(mooning\\)", "v": false }, { "n": "Finger", "i": "emoticon-0173-middlefinger", "e": ["(finger)"], "p": "\\(finger\\)", "v": false }, { "n": "Bandit", "i": "emoticon-0174-bandit", "e": ["(bandit)"], "p": "\\(bandit\\)", "v": false }, { "n": "Drunk", "i": "emoticon-0175-drunk", "e": ["(drunk)"], "p": "\\(drunk\\)", "v": false }, { "n": "Smoking", "i": "emoticon-0176-smoke", "e": ["(smoking)", "(smoke)", "(ci)"], "p": "(\\(smoking\\)|\\(smoke\\)|\\(ci\\))", "v": false }, { "n": "Toivo", "i": "emoticon-0177-toivo", "e": ["(toivo)"], "p": "\\(toivo\\)", "v": false }, { "n": "Rock", "i": "emoticon-0178-rock", "e": ["(rock)"], "p": "\\(rock\\)", "v": false }, { "n": "Headbang", "i": "emoticon-0179-headbang", "e": ["(headbang)", "(banghead)"], "p": "(\\(headbang\\)|\\(banghead\\))", "v": false }, { "n": "Bug", "i": "emoticon-0180-bug", "e": ["(bug)"], "p": "\\(bug\\)", "v": false }, { "n": "Fubar", "i": "emoticon-0181-fubar", "e": ["(fubar)"], "p": "\\(fubar\\)", "v": false }, { "n": "Poolparty", "i": "emoticon-0182-poolparty", "e": ["(poolparty)"], "p": "\\(poolparty\\)", "v": false }, { "n": "Swearing", "i": "emoticon-0183-swear", "e": ["(swear)"], "p": "\\(swear\\)", "v": false }, { "n": "TMI", "i": "emoticon-0184-tmi", "e": ["(tmi)"], "p": "\\(tmi\\)", "v": false }, { "n": "Heidy", "i": "emoticon-0185-heidy", "e": ["(heidy)"], "p": "\\(heidy\\)", "v": false }, { "n": "MySpace", "i": "emoticon-0186-myspace", "e": ["(MySpace)"], "p": "\\(MySpace\\)", "v": false }, { "n": "Malthe", "i": "emoticon-0187-malthe", "e": ["(malthe)"], "p": "\\(malthe\\)", "v": false }, { "n": "Tauri", "i": "emoticon-0188-tauri", "e": ["(tauri)"], "p": "\\(tauri\\)", "v": false }, { "n": "Priidu", "i": "emoticon-0189-priidu", "e": ["(priidu)"], "p": "\\(priidu\\)", "v": false }];
var flags = [{ "n": "Afghanistan", "c": "flag-af", "e": "(flag:AF)", "v": true, "p": "\\(flag\\:AF\\)" }, { "n": "Albania", "c": "flag-al", "e": "(flag:AL)", "v": true, "p": "\\(flag\\:AL\\)" }, { "n": "Algeria", "c": "flag-dz", "e": "(flag:DZ)", "v": true, "p": "\\(flag\\:DZ\\)" }, { "n": "American Samoa", "c": "flag-as", "e": "(flag:AS)", "v": true, "p": "\\(flag\\:AS\\)" }, { "n": "Andorra", "c": "flag-ad", "e": "(flag:AD)", "v": true, "p": "\\(flag\\:AD\\)" }, { "n": "Angola", "c": "flag-ao", "e": "(flag:AO)", "v": true, "p": "\\(flag\\:AO\\)" }, { "n": "Anguilla", "c": "flag-ai", "e": "(flag:AI)", "v": true, "p": "\\(flag\\:AI\\)" }, { "n": "Antarctica", "c": "flag-aq", "e": "(flag:AQ)", "v": true, "p": "\\(flag\\:AQ\\)" }, { "n": "Antigua and Barbuda", "c": "flag-ag", "e": "(flag:AG)", "v": true, "p": "\\(flag\\:AG\\)" }, { "n": "Argentina", "c": "flag-ar", "e": "(flag:AR)", "v": true, "p": "\\(flag\\:AR\\)" }, { "n": "Armenia", "c": "flag-am", "e": "(flag:AM)", "v": true, "p": "\\(flag\\:AM\\)" }, { "n": "Aruba", "c": "flag-aw", "e": "(flag:AW)", "v": true, "p": "\\(flag\\:AW\\)" }, { "n": "Australia", "c": "flag-au", "e": "(flag:AU)", "v": true, "p": "\\(flag\\:AU\\)" }, { "n": "Austria", "c": "flag-at", "e": "(flag:AT)", "v": true, "p": "\\(flag\\:AT\\)" }, { "n": "Azerbaijan", "c": "flag-az", "e": "(flag:AZ)", "v": true, "p": "\\(flag\\:AZ\\)" }, { "n": "Bahamas", "c": "flag-bs", "e": "(flag:BS)", "v": true, "p": "\\(flag\\:BS\\)" }, { "n": "Bahrain", "c": "flag-bh", "e": "(flag:BH)", "v": true, "p": "\\(flag\\:BH\\)" }, { "n": "Bangladesh", "c": "flag-bd", "e": "(flag:BD)", "v": true, "p": "\\(flag\\:BD\\)" }, { "n": "Barbados", "c": "flag-bb", "e": "(flag:BB)", "v": true, "p": "\\(flag\\:BB\\)" }, { "n": "Belarus", "c": "flag-by", "e": "(flag:BY)", "v": true, "p": "\\(flag\\:BY\\)" }, { "n": "Belgium", "c": "flag-be", "e": "(flag:BE)", "v": true, "p": "\\(flag\\:BE\\)" }, { "n": "Belize", "c": "flag-bz", "e": "(flag:BZ)", "v": true, "p": "\\(flag\\:BZ\\)" }, { "n": "Benin", "c": "flag-bj", "e": "(flag:BJ)", "v": true, "p": "\\(flag\\:BJ\\)" }, { "n": "Bermuda", "c": "flag-bm", "e": "(flag:BM)", "v": true, "p": "\\(flag\\:BM\\)" }, { "n": "Bhutan", "c": "flag-bt", "e": "(flag:BT)", "v": true, "p": "\\(flag\\:BT\\)" }, { "n": "Bolivia", "c": "flag-bo", "e": "(flag:BO)", "v": true, "p": "\\(flag\\:BO\\)" }, { "n": "Bosnia and Herzegovina", "c": "flag-ba", "e": "(flag:BA)", "v": true, "p": "\\(flag\\:BA\\)" }, { "n": "Botswana", "c": "flag-bw", "e": "(flag:BW)", "v": true, "p": "\\(flag\\:BW\\)" }, { "n": "Brazil", "c": "flag-br", "e": "(flag:BR)", "v": true, "p": "\\(flag\\:BR\\)" }, { "n": "British Indian Ocean Territory", "c": "flag-io", "e": "(flag:IO)", "v": true, "p": "\\(flag\\:IO\\)" }, { "n": "British Virgin Islands", "c": "flag-vg", "e": "(flag:VG)", "v": true, "p": "\\(flag\\:VG\\)" }, { "n": "Brunei Darussalam", "c": "flag-bn", "e": "(flag:BN)", "v": true, "p": "\\(flag\\:BN\\)" }, { "n": "Bulgaria", "c": "flag-bg", "e": "(flag:BG)", "v": true, "p": "\\(flag\\:BG\\)" }, { "n": "Burkina Faso", "c": "flag-bf", "e": "(flag:BF)", "v": true, "p": "\\(flag\\:BF\\)" }, { "n": "Burundi", "c": "flag-bi", "e": "(flag:BI)", "v": true, "p": "\\(flag\\:BI\\)" }, { "n": "Cambodia", "c": "flag-kh", "e": "(flag:KH)", "v": true, "p": "\\(flag\\:KH\\)" }, { "n": "Cameroon", "c": "flag-cm", "e": "(flag:CM)", "v": true, "p": "\\(flag\\:CM\\)" }, { "n": "Canada", "c": "flag-ca", "e": "(flag:CA)", "v": true, "p": "\\(flag\\:CA\\)" }, { "n": "Cape Verde", "c": "flag-cv", "e": "(flag:CV)", "v": true, "p": "\\(flag\\:CV\\)" }, { "n": "Cayman Islands", "c": "flag-ky", "e": "(flag:KY)", "v": true, "p": "\\(flag\\:KY\\)" }, { "n": "Central African Republic", "c": "flag-cf", "e": "(flag:CF)", "v": true, "p": "\\(flag\\:CF\\)" }, { "n": "Chad", "c": "flag-td", "e": "(flag:TD)", "v": true, "p": "\\(flag\\:TD\\)" }, { "n": "Chile", "c": "flag-cl", "e": "(flag:CL)", "v": true, "p": "\\(flag\\:CL\\)" }, { "n": "China", "c": "flag-cn", "e": "(flag:CN)", "v": true, "p": "\\(flag\\:CN\\)" }, { "n": "Christmas Island", "c": "flag-cx", "e": "(flag:CX)", "v": true, "p": "\\(flag\\:CX\\)" }, { "n": "Cocos Islands", "c": "flag-cc", "e": "(flag:CC)", "v": true, "p": "\\(flag\\:CC\\)" }, { "n": "Colombia", "c": "flag-co", "e": "(flag:CO)", "v": true, "p": "\\(flag\\:CO\\)" }, { "n": "Comoros", "c": "flag-km", "e": "(flag:KM)", "v": true, "p": "\\(flag\\:KM\\)" }, { "n": "Congo", "c": "flag-cd", "e": "(flag:CD)", "v": true, "p": "\\(flag\\:CD\\)" }, { "n": "Congo", "c": "flag-cg", "e": "(flag:CG)", "v": true, "p": "\\(flag\\:CG\\)" }, { "n": "Cook Islands", "c": "flag-ck", "e": "(flag:CK)", "v": true, "p": "\\(flag\\:CK\\)" }, { "n": "Costa Rica", "c": "flag-cr", "e": "(flag:CR)", "v": true, "p": "\\(flag\\:CR\\)" }, { "n": "Cote D’Ivoire", "c": "flag-ci", "e": "(flag:CI)", "v": true, "p": "\\(flag\\:CI\\)" }, { "n": "Cuba", "c": "flag-cu", "e": "(flag:CU)", "v": true, "p": "\\(flag\\:CU\\)" }, { "n": "Cyprus", "c": "flag-cy", "e": "(flag:CY)", "v": true, "p": "\\(flag\\:CY\\)" }, { "n": "Czech Republic", "c": "flag-cz", "e": "(flag:CZ)", "v": true, "p": "\\(flag\\:CZ\\)" }, { "n": "Denmark", "c": "flag-dk", "e": "(flag:DK)", "v": true, "p": "\\(flag\\:DK\\)" }, { "n": "Djibouti", "c": "flag-dj", "e": "(flag:DJ)", "v": true, "p": "\\(flag\\:DJ\\)" }, { "n": "Dominica", "c": "flag-dm", "e": "(flag:DM)", "v": true, "p": "\\(flag\\:DM\\)" }, { "n": "Dominican Republic", "c": "flag-do", "e": "(flag:DO)", "v": true, "p": "\\(flag\\:DO\\)" }, { "n": "Ecuador", "c": "flag-ec", "e": "(flag:EC)", "v": true, "p": "\\(flag\\:EC\\)" }, { "n": "Egypt", "c": "flag-eg", "e": "(flag:EG)", "v": true, "p": "\\(flag\\:EG\\)" }, { "n": "European Union", "c": "flag-eu", "e": "(flag:EU)", "v": true, "p": "\\(flag\\:EU\\)" }, { "n": "El Salvador", "c": "flag-sv", "e": "(flag:SV)", "v": true, "p": "\\(flag\\:SV\\)" }, { "n": "Equatorial Guinea", "c": "flag-gq", "e": "(flag:GQ)", "v": true, "p": "\\(flag\\:GQ\\)" }, { "n": "Eritrea", "c": "flag-er", "e": "(flag:ER)", "v": true, "p": "\\(flag\\:ER\\)" }, { "n": "Estonia", "c": "flag-ee", "e": "(flag:EE)", "v": true, "p": "\\(flag\\:EE\\)" }, { "n": "Ethiopia", "c": "flag-et", "e": "(flag:ET)", "v": true, "p": "\\(flag\\:ET\\)" }, { "n": "Faeroe Islands", "c": "flag-fo", "e": "(flag:FO)", "v": true, "p": "\\(flag\\:FO\\)" }, { "n": "Falkland Islands", "c": "flag-fk", "e": "(flag:FK)", "v": true, "p": "\\(flag\\:FK\\)" }, { "n": "Fiji", "c": "flag-fj", "e": "(flag:FJ)", "v": true, "p": "\\(flag\\:FJ\\)" }, { "n": "Finland", "c": "flag-fi", "e": "(flag:FI)", "v": true, "p": "\\(flag\\:FI\\)" }, { "n": "France", "c": "flag-fr", "e": "(flag:FR)", "v": true, "p": "\\(flag\\:FR\\)" }, { "n": "French Guiana", "c": "flag-gf", "e": "(flag:GF)", "v": true, "p": "\\(flag\\:GF\\)" }, { "n": "French Polynesia", "c": "flag-pf", "e": "(flag:PF)", "v": true, "p": "\\(flag\\:PF\\)" }, { "n": "French Southern Territories", "c": "flag-tf", "e": "(flag:TF)", "v": true, "p": "\\(flag\\:TF\\)" }, { "n": "Gabon", "c": "flag-ga", "e": "(flag:GA)", "v": true, "p": "\\(flag\\:GA\\)" }, { "n": "Gambia", "c": "flag-gm", "e": "(flag:GM)", "v": true, "p": "\\(flag\\:GM\\)" }, { "n": "Georgia", "c": "flag-ge", "e": "(flag:GE)", "v": true, "p": "\\(flag\\:GE\\)" }, { "n": "Germany", "c": "flag-de", "e": "(flag:DE)", "v": true, "p": "\\(flag\\:DE\\)" }, { "n": "Ghana", "c": "flag-gh", "e": "(flag:GH)", "v": true, "p": "\\(flag\\:GH\\)" }, { "n": "Gibraltar", "c": "flag-gi", "e": "(flag:GI)", "v": true, "p": "\\(flag\\:GI\\)" }, { "n": "Greece", "c": "flag-gr", "e": "(flag:GR)", "v": true, "p": "\\(flag\\:GR\\)" }, { "n": "Greenland", "c": "flag-gl", "e": "(flag:GL)", "v": true, "p": "\\(flag\\:GL\\)" }, { "n": "Grenada", "c": "flag-gd", "e": "(flag:GD)", "v": true, "p": "\\(flag\\:GD\\)" }, { "n": "Guadaloupe", "c": "flag-gp", "e": "(flag:GP)", "v": true, "p": "\\(flag\\:GP\\)" }, { "n": "Guam", "c": "flag-gu", "e": "(flag:GU)", "v": true, "p": "\\(flag\\:GU\\)" }, { "n": "Guatemala", "c": "flag-gt", "e": "(flag:GT)", "v": true, "p": "\\(flag\\:GT\\)" }, { "n": "Guinea", "c": "flag-gn", "e": "(flag:GN)", "v": true, "p": "\\(flag\\:GN\\)" }, { "n": "Guinea-Bissau", "c": "flag-gw", "e": "(flag:GW)", "v": true, "p": "\\(flag\\:GW\\)" }, { "n": "Guyana", "c": "flag-gy", "e": "(flag:GY)", "v": true, "p": "\\(flag\\:GY\\)" }, { "n": "Haiti", "c": "flag-ht", "e": "(flag:HT)", "v": true, "p": "\\(flag\\:HT\\)" }, { "n": "Heard and McDonald Islands", "c": "flag-hm", "e": "(flag:HM)", "v": true, "p": "\\(flag\\:HM\\)" }, { "n": "Holy See (Vatican City State)", "c": "flag-va", "e": "(flag:VA)", "v": true, "p": "\\(flag\\:VA\\)" }, { "n": "Honduras", "c": "flag-hn", "e": "(flag:HN)", "v": true, "p": "\\(flag\\:HN\\)" }, { "n": "Hong Kong", "c": "flag-hk", "e": "(flag:HK)", "v": true, "p": "\\(flag\\:HK\\)" }, { "n": "Hrvatska", "c": "flag-hr", "e": "(flag:HR)", "v": true, "p": "\\(flag\\:HR\\)" }, { "n": "Hungary", "c": "flag-hu", "e": "(flag:HU)", "v": true, "p": "\\(flag\\:HU\\)" }, { "n": "Iceland", "c": "flag-is", "e": "(flag:IS)", "v": true, "p": "\\(flag\\:IS\\)" }, { "n": "India", "c": "flag-in", "e": "(flag:IN)", "v": true, "p": "\\(flag\\:IN\\)" }, { "n": "Indonesia", "c": "flag-id", "e": "(flag:ID)", "v": true, "p": "\\(flag\\:ID\\)" }, { "n": "Iran", "c": "flag-ir", "e": "(flag:IR)", "v": true, "p": "\\(flag\\:IR\\)" }, { "n": "Iraq", "c": "flag-iq", "e": "(flag:IQ)", "v": true, "p": "\\(flag\\:IQ\\)" }, { "n": "Ireland", "c": "flag-ie", "e": "(flag:IE)", "v": true, "p": "\\(flag\\:IE\\)" }, { "n": "Israel", "c": "flag-il", "e": "(flag:IL)", "v": true, "p": "\\(flag\\:IL\\)" }, { "n": "Italy", "c": "flag-it", "e": "(flag:IT)", "v": true, "p": "\\(flag\\:IT\\)" }, { "n": "Jamaica", "c": "flag-jm", "e": "(flag:JM)", "v": true, "p": "\\(flag\\:JM\\)" }, { "n": "Japan", "c": "flag-jp", "e": "(flag:JP)", "v": true, "p": "\\(flag\\:JP\\)" }, { "n": "Jordan", "c": "flag-jo", "e": "(flag:JO)", "v": true, "p": "\\(flag\\:JO\\)" }, { "n": "Kazakhstan", "c": "flag-kz", "e": "(flag:KZ)", "v": true, "p": "\\(flag\\:KZ\\)" }, { "n": "Kenya", "c": "flag-ke", "e": "(flag:KE)", "v": true, "p": "\\(flag\\:KE\\)" }, { "n": "Kiribati", "c": "flag-ki", "e": "(flag:KI)", "v": true, "p": "\\(flag\\:KI\\)" }, { "n": "Korea", "c": "flag-kp", "e": "(flag:KP)", "v": true, "p": "\\(flag\\:KP\\)" }, { "n": "Korea", "c": "flag-kr", "e": "(flag:KR)", "v": true, "p": "\\(flag\\:KR\\)" }, { "n": "Kuwait", "c": "flag-kw", "e": "(flag:KW)", "v": true, "p": "\\(flag\\:KW\\)" }, { "n": "Kyrgyz Republic", "c": "flag-kg", "e": "(flag:KG)", "v": true, "p": "\\(flag\\:KG\\)" }, { "n": "Lao", "c": "flag-la", "e": "(flag:LA)", "v": true, "p": "\\(flag\\:LA\\)" }, { "n": "Latvia", "c": "flag-lv", "e": "(flag:LV)", "v": true, "p": "\\(flag\\:LV\\)" }, { "n": "Lebanon", "c": "flag-lb", "e": "(flag:LB)", "v": true, "p": "\\(flag\\:LB\\)" }, { "n": "Lesotho", "c": "flag-ls", "e": "(flag:LS)", "v": true, "p": "\\(flag\\:LS\\)" }, { "n": "Liberia", "c": "flag-lr", "e": "(flag:LR)", "v": true, "p": "\\(flag\\:LR\\)" }, { "n": "Libyan Arab Jamahiriya", "c": "flag-ly", "e": "(flag:LY)", "v": true, "p": "\\(flag\\:LY\\)" }, { "n": "Liechtenstein", "c": "flag-li", "e": "(flag:LI)", "v": true, "p": "\\(flag\\:LI\\)" }, { "n": "Lithuania", "c": "flag-lt", "e": "(flag:LT)", "v": true, "p": "\\(flag\\:LT\\)" }, { "n": "Luxembourg", "c": "flag-lu", "e": "(flag:LU)", "v": true, "p": "\\(flag\\:LU\\)" }, { "n": "Macao", "c": "flag-mo", "e": "(flag:MO)", "v": true, "p": "\\(flag\\:MO\\)" }, { "n": "Montenegro", "c": "flag-me", "e": "(flag:ME)", "v": true, "p": "\\(flag\\:ME\\)" }, { "n": "Macedonia", "c": "flag-mk", "e": "(flag:MK)", "v": true, "p": "\\(flag\\:MK\\)" }, { "n": "Madagascar", "c": "flag-mg", "e": "(flag:MG)", "v": true, "p": "\\(flag\\:MG\\)" }, { "n": "Malawi", "c": "flag-mw", "e": "(flag:MW)", "v": true, "p": "\\(flag\\:MW\\)" }, { "n": "Malaysia", "c": "flag-my", "e": "(flag:MY)", "v": true, "p": "\\(flag\\:MY\\)" }, { "n": "Maldives", "c": "flag-mv", "e": "(flag:MV)", "v": true, "p": "\\(flag\\:MV\\)" }, { "n": "Mali", "c": "flag-ml", "e": "(flag:ML)", "v": true, "p": "\\(flag\\:ML\\)" }, { "n": "Malta", "c": "flag-mt", "e": "(flag:MT)", "v": true, "p": "\\(flag\\:MT\\)" }, { "n": "Marshall Islands", "c": "flag-mh", "e": "(flag:MH)", "v": true, "p": "\\(flag\\:MH\\)" }, { "n": "Martinique", "c": "flag-mq", "e": "(flag:MQ)", "v": true, "p": "\\(flag\\:MQ\\)" }, { "n": "Mauritania", "c": "flag-mr", "e": "(flag:MR)", "v": true, "p": "\\(flag\\:MR\\)" }, { "n": "Mauritius", "c": "flag-mu", "e": "(flag:MU)", "v": true, "p": "\\(flag\\:MU\\)" }, { "n": "Mayotte", "c": "flag-yt", "e": "(flag:YT)", "v": true, "p": "\\(flag\\:YT\\)" }, { "n": "Mexico", "c": "flag-mx", "e": "(flag:MX)", "v": true, "p": "\\(flag\\:MX\\)" }, { "n": "Micronesia", "c": "flag-fm", "e": "(flag:FM)", "v": true, "p": "\\(flag\\:FM\\)" }, { "n": "Moldova", "c": "flag-md", "e": "(flag:MD)", "v": true, "p": "\\(flag\\:MD\\)" }, { "n": "Monaco", "c": "flag-mc", "e": "(flag:MC)", "v": true, "p": "\\(flag\\:MC\\)" }, { "n": "Mongolia", "c": "flag-mn", "e": "(flag:MN)", "v": true, "p": "\\(flag\\:MN\\)" }, { "n": "Montserrat", "c": "flag-ms", "e": "(flag:MS)", "v": true, "p": "\\(flag\\:MS\\)" }, { "n": "Morocco", "c": "flag-ma", "e": "(flag:MA)", "v": true, "p": "\\(flag\\:MA\\)" }, { "n": "Mozambique", "c": "flag-mz", "e": "(flag:MZ)", "v": true, "p": "\\(flag\\:MZ\\)" }, { "n": "Myanmar", "c": "flag-mm", "e": "(flag:MM)", "v": true, "p": "\\(flag\\:MM\\)" }, { "n": "Namibia", "c": "flag-na", "e": "(flag:NA)", "v": true, "p": "\\(flag\\:NA\\)" }, { "n": "Nauru", "c": "flag-nr", "e": "(flag:NR)", "v": true, "p": "\\(flag\\:NR\\)" }, { "n": "Nepal", "c": "flag-np", "e": "(flag:NP)", "v": true, "p": "\\(flag\\:NP\\)" }, { "n": "Netherlands Antilles", "c": "flag-an", "e": "(flag:AN)", "v": true, "p": "\\(flag\\:AN\\)" }, { "n": "Netherlands", "c": "flag-nl", "e": "(flag:NL)", "v": true, "p": "\\(flag\\:NL\\)" }, { "n": "New Caledonia", "c": "flag-nc", "e": "(flag:NC)", "v": true, "p": "\\(flag\\:NC\\)" }, { "n": "New Zealand", "c": "flag-nz", "e": "(flag:NZ)", "v": true, "p": "\\(flag\\:NZ\\)" }, { "n": "Nicaragua", "c": "flag-ni", "e": "(flag:NI)", "v": true, "p": "\\(flag\\:NI\\)" }, { "n": "Niger", "c": "flag-ne", "e": "(flag:NE)", "v": true, "p": "\\(flag\\:NE\\)" }, { "n": "Nigeria", "c": "flag-ng", "e": "(flag:NG)", "v": true, "p": "\\(flag\\:NG\\)" }, { "n": "Niue", "c": "flag-nu", "e": "(flag:NU)", "v": true, "p": "\\(flag\\:NU\\)" }, { "n": "Norfolk Island", "c": "flag-nf", "e": "(flag:NF)", "v": true, "p": "\\(flag\\:NF\\)" }, { "n": "Northern Mariana Islands", "c": "flag-mp", "e": "(flag:MP)", "v": true, "p": "\\(flag\\:MP\\)" }, { "n": "Norway", "c": "flag-no", "e": "(flag:NO)", "v": true, "p": "\\(flag\\:NO\\)" }, { "n": "Oman", "c": "flag-om", "e": "(flag:OM)", "v": true, "p": "\\(flag\\:OM\\)" }, { "n": "Pakistan", "c": "flag-pk", "e": "(flag:PK)", "v": true, "p": "\\(flag\\:PK\\)" }, { "n": "Palau", "c": "flag-pw", "e": "(flag:PW)", "v": true, "p": "\\(flag\\:PW\\)" }, { "n": "Palestina", "c": "flag-ps", "e": "(flag:PS)", "v": true, "p": "\\(flag\\:PS\\)" }, { "n": "Panama", "c": "flag-pa", "e": "(flag:PA)", "v": true, "p": "\\(flag\\:PA\\)" }, { "n": "Papua New Guinea", "c": "flag-pg", "e": "(flag:PG)", "v": true, "p": "\\(flag\\:PG\\)" }, { "n": "Paraguay", "c": "flag-py", "e": "(flag:PY)", "v": true, "p": "\\(flag\\:PY\\)" }, { "n": "Peru", "c": "flag-pe", "e": "(flag:PE)", "v": true, "p": "\\(flag\\:PE\\)" }, { "n": "Philippines", "c": "flag-ph", "e": "(flag:PH)", "v": true, "p": "\\(flag\\:PH\\)" }, { "n": "Pitcairn Island", "c": "flag-pn", "e": "(flag:PN)", "v": true, "p": "\\(flag\\:PN\\)" }, { "n": "Poland", "c": "flag-pl", "e": "(flag:PL)", "v": true, "p": "\\(flag\\:PL\\)" }, { "n": "Portugal", "c": "flag-pt", "e": "(flag:PT)", "v": true, "p": "\\(flag\\:PT\\)" }, { "n": "Puerto Rico", "c": "flag-pr", "e": "(flag:PR)", "v": true, "p": "\\(flag\\:PR\\)" }, { "n": "Qatar", "c": "flag-qa", "e": "(flag:QA)", "v": true, "p": "\\(flag\\:QA\\)" }, { "n": "Reunion", "c": "flag-re", "e": "(flag:RE)", "v": true, "p": "\\(flag\\:RE\\)" }, { "n": "Romania", "c": "flag-ro", "e": "(flag:RO)", "v": true, "p": "\\(flag\\:RO\\)" }, { "n": "Russian Federation", "c": "flag-ru", "e": "(flag:RU)", "v": true, "p": "\\(flag\\:RU\\)" }, { "n": "Rwanda", "c": "flag-rw", "e": "(flag:RW)", "v": true, "p": "\\(flag\\:RW\\)" }, { "n": "Serbia", "c": "flag-rs", "e": "(flag:RS)", "v": true, "p": "\\(flag\\:RS\\)" }, { "n": "Skype", "c": "flag-ss", "e": "(flag:SS)", "v": true, "p": "\\(flag\\:SS\\)" }, { "n": "St. Helena", "c": "flag-sh", "e": "(flag:SH)", "v": true, "p": "\\(flag\\:SH\\)" }, { "n": "St. Kitts and Nevis", "c": "flag-kn", "e": "(flag:KN)", "v": true, "p": "\\(flag\\:KN\\)" }, { "n": "St. Lucia", "c": "flag-lc", "e": "(flag:LC)", "v": true, "p": "\\(flag\\:LC\\)" }, { "n": "St. Pierre and Miquelon", "c": "flag-pm", "e": "(flag:PM)", "v": true, "p": "\\(flag\\:PM\\)" }, { "n": "St. Vincent and the Grenadines", "c": "flag-vc", "e": "(flag:VC)", "v": true, "p": "\\(flag\\:VC\\)" }, { "n": "Samoa", "c": "flag-ws", "e": "(flag:WS)", "v": true, "p": "\\(flag\\:WS\\)" }, { "n": "San Marino", "c": "flag-sm", "e": "(flag:SM)", "v": true, "p": "\\(flag\\:SM\\)" }, { "n": "Sao Tome and Principe", "c": "flag-st", "e": "(flag:ST)", "v": true, "p": "\\(flag\\:ST\\)" }, { "n": "Saudi Arabia", "c": "flag-sa", "e": "(flag:SA)", "v": true, "p": "\\(flag\\:SA\\)" }, { "n": "Senegal", "c": "flag-sn", "e": "(flag:SN)", "v": true, "p": "\\(flag\\:SN\\)" }, { "n": "Serbia and Montenegro", "c": "flag-cs", "e": "(flag:CS)", "v": true, "p": "\\(flag\\:CS\\)" }, { "n": "Seychelles", "c": "flag-sc", "e": "(flag:SC)", "v": true, "p": "\\(flag\\:SC\\)" }, { "n": "Sierra Leone", "c": "flag-sl", "e": "(flag:SL)", "v": true, "p": "\\(flag\\:SL\\)" }, { "n": "Singapore", "c": "flag-sg", "e": "(flag:SG)", "v": true, "p": "\\(flag\\:SG\\)" }, { "n": "Slovakia", "c": "flag-sk", "e": "(flag:SK)", "v": true, "p": "\\(flag\\:SK\\)" }, { "n": "Slovenia", "c": "flag-si", "e": "(flag:SI)", "v": true, "p": "\\(flag\\:SI\\)" }, { "n": "Solomon Islands", "c": "flag-sb", "e": "(flag:SB)", "v": true, "p": "\\(flag\\:SB\\)" }, { "n": "Somalia", "c": "flag-so", "e": "(flag:SO)", "v": true, "p": "\\(flag\\:SO\\)" }, { "n": "South Africa", "c": "flag-za", "e": "(flag:ZA)", "v": true, "p": "\\(flag\\:ZA\\)" }, { "n": "Spain", "c": "flag-es", "e": "(flag:ES)", "v": true, "p": "\\(flag\\:ES\\)" }, { "n": "Sri Lanka", "c": "flag-lk", "e": "(flag:LK)", "v": true, "p": "\\(flag\\:LK\\)" }, { "n": "Sudan", "c": "flag-sd", "e": "(flag:SD)", "v": true, "p": "\\(flag\\:SD\\)" }, { "n": "Suriname", "c": "flag-sr", "e": "(flag:SR)", "v": true, "p": "\\(flag\\:SR\\)" }, { "n": "Swaziland", "c": "flag-sz", "e": "(flag:SZ)", "v": true, "p": "\\(flag\\:SZ\\)" }, { "n": "Sweden", "c": "flag-se", "e": "(flag:SE)", "v": true, "p": "\\(flag\\:SE\\)" }, { "n": "Switzerland", "c": "flag-ch", "e": "(flag:CH)", "v": true, "p": "\\(flag\\:CH\\)" }, { "n": "Syria", "c": "flag-sy", "e": "(flag:SY)", "v": true, "p": "\\(flag\\:SY\\)" }, { "n": "Taiwan", "c": "flag-tw", "e": "(flag:TW)", "v": true, "p": "\\(flag\\:TW\\)" }, { "n": "Tajikistan", "c": "flag-tj", "e": "(flag:TJ)", "v": true, "p": "\\(flag\\:TJ\\)" }, { "n": "Tanzania", "c": "flag-tz", "e": "(flag:TZ)", "v": true, "p": "\\(flag\\:TZ\\)" }, { "n": "Thailand", "c": "flag-th", "e": "(flag:TH)", "v": true, "p": "\\(flag\\:TH\\)" }, { "n": "Timor-Leste", "c": "flag-tl", "e": "(flag:TL)", "v": true, "p": "\\(flag\\:TL\\)" }, { "n": "Togo", "c": "flag-tg", "e": "(flag:TG)", "v": true, "p": "\\(flag\\:TG\\)" }, { "n": "Tokelau", "c": "flag-tk", "e": "(flag:TK)", "v": true, "p": "\\(flag\\:TK\\)" }, { "n": "Tonga", "c": "flag-to", "e": "(flag:TO)", "v": true, "p": "\\(flag\\:TO\\)" }, { "n": "Trinidad and Tobago", "c": "flag-tt", "e": "(flag:TT)", "v": true, "p": "\\(flag\\:TT\\)" }, { "n": "Tunisia", "c": "flag-tn", "e": "(flag:TN)", "v": true, "p": "\\(flag\\:TN\\)" }, { "n": "Turkey", "c": "flag-tr", "e": "(flag:TR)", "v": true, "p": "\\(flag\\:TR\\)" }, { "n": "Turkmenistan", "c": "flag-tm", "e": "(flag:TM)", "v": true, "p": "\\(flag\\:TM\\)" }, { "n": "Turks and Caicos Islands", "c": "flag-tc", "e": "(flag:TC)", "v": true, "p": "\\(flag\\:TC\\)" }, { "n": "Tuvalu", "c": "flag-tv", "e": "(flag:TV)", "v": true, "p": "\\(flag\\:TV\\)" }, { "n": "US Virgin Islands", "c": "flag-vi", "e": "(flag:VI)", "v": true, "p": "\\(flag\\:VI\\)" }, { "n": "Uganda", "c": "flag-ug", "e": "(flag:UG)", "v": true, "p": "\\(flag\\:UG\\)" }, { "n": "Ukraine", "c": "flag-ua", "e": "(flag:UA)", "v": true, "p": "\\(flag\\:UA\\)" }, { "n": "United Arab Emirates", "c": "flag-ae", "e": "(flag:AE)", "v": true, "p": "\\(flag\\:AE\\)" }, { "n": "United Kingdom", "c": "flag-gb", "e": "(flag:GB)", "v": true, "p": "\\(flag\\:GB\\)" }, { "n": "United States of America", "c": "flag-us", "e": "(flag:US)", "v": true, "p": "\\(flag\\:US\\)" }, { "n": "Uruguay", "c": "flag-uy", "e": "(flag:UY)", "v": true, "p": "\\(flag\\:UY\\)" }, { "n": "Uzbekistan", "c": "flag-uz", "e": "(flag:UZ)", "v": true, "p": "\\(flag\\:UZ\\)" }, { "n": "Vanuatu", "c": "flag-vu", "e": "(flag:VU)", "v": true, "p": "\\(flag\\:VU\\)" }, { "n": "Venezuela", "c": "flag-ve", "e": "(flag:VE)", "v": true, "p": "\\(flag\\:VE\\)" }, { "n": "Viet Nam", "c": "flag-vn", "e": "(flag:VN)", "v": true, "p": "\\(flag\\:VN\\)" }, { "n": "Wallis and Futuna Islands", "c": "flag-wf", "e": "(flag:WF)", "v": true, "p": "\\(flag\\:WF\\)" }, { "n": "Western Sahara", "c": "flag-eh", "e": "(flag:EH)", "v": true, "p": "\\(flag\\:EH\\)" }, { "n": "Yemen", "c": "flag-ye", "e": "(flag:YE)", "v": true, "p": "\\(flag\\:YE\\)" }, { "n": "Zambia", "c": "flag-zm", "e": "(flag:ZM)", "v": true, "p": "\\(flag\\:ZM\\)" }, { "n": "Zimbabwe", "c": "flag-zw", "e": "(flag:ZW)", "v": true, "p": "\\(flag\\:ZW\\)" }];
(function ($) {
    $.fn.allemoticons = function (emoSetting) {
        var $this = this;
        var str = '';
        $.each(emoticons, function (iEM, bbcode) {
            if (!bbcode.v) return;
            str += '<div class="icon"><span class="' + bbcode.i + '" rel="' + bbcode.e[0] + '" title="' + bbcode.n + '"></span></div>';
        });
        str += '<div class="clear"></div>';
        $this.html(str);
        $this.find('.icon').hover(function () {
            if ($(this).find('img').length == 1) {
                $(this).find('span').hide();
                $(this).find('img').show();
            }
            else {
                var spn = $(this).find('span');
                var src = emoSetting.path + spn.attr('class') + '.gif';
                var img = new Image();
                img.src = src;
                spn.hide();
                $(this).append('<img src="' + src + '" title="' + spn.attr('title') + '" />')
            }
        }, function () {
            $(this).find('img').hide();
            $(this).find('span').show();
        });
        $('.emoticons').click(function (e) { e.stopPropagation(); });
        if (typeof (emoSetting.selIconCallback) == 'function') {
            $this.find('.icon').click(function () {
                emoSetting.selIconCallback($this.attr('rel'), $(this).find('span').attr('rel'));
                hideIconTable();
                //$this.slideToggle(300);
            });
        }
    };
})(jQuery);
function showIconTable() {
    if ($('.emoticons').is(':hidden')) {
        $('.emoticons').show();
        $(document).bind('click', function () { hideIconTable(); });
    }
}
function hideIconTable() {
    $(document).unbind('click');
    $('.emoticons').hide();
}
(function ($) {
    $.fn.emoticons = function (settings, more_emoticons) {
        var _cfg = {
            handle: 'a',
            dir: 'emoticons/',
            label: 'On Emoticons',
            style: '',
            css: '',
            r_alert: 1,
            emoticons: emoticons,
            flags: flags,
            emoticon_ext: 'gif'
        };
        if (settings) $.extend(_cfg, settings);
        var obj = this;
        var default_label = $(_cfg.handle).html();
        var default_style = $(_cfg.handle).attr('style');
        var default_css = $(_cfg.handle).attr('class');
        var funct = {
            //__regexp: function (str) {
            //    return str.replace(/(\.|\\|\+|\*|\?|\[|\^|\]|\$|\(|\)|\{|\}|\=|\!|\<|\>|\||\:|\-)/ig, "\\$1");
            //},
            __load: function () { // apply emoticon
                if (more_emoticons) {
                    $.each(more_emoticons, function (id, val) {
                        if (_cfg.r_alert && _cfg.emoticons[id]) {
                            if (confirm('Emotion ' + id + '.' + _cfg.emoticon_ext + ' <=> ' + _cfg.emoticons[id] + ' does exists. Do you want to replace it by ' + val + ' ?')) _cfg.emoticons[id] = val;;
                        } else {
                            _cfg.emoticons[id] = val;
                        }
                    });
                }
                obj.each(function () {
                    var str = $(this).html();
                    $.each(_cfg.emoticons, function (iEM, bbcode) {
                        str = str.replace(new RegExp(/*funct.__regexp(bbcode)*/bbcode.p, 'ig'), '<span class="emoticon_show"><img src="' + _cfg.dir + bbcode.i + '.gif" title="' + bbcode.n + '" /></span>');
                    });
                    $.each(_cfg.flags, function (iEM, bbcode) {
                        str = str.replace(new RegExp(/*funct.__regexp(bbcode)*/bbcode.p, 'ig'), '<span class="icon ' + bbcode.c + '" title="' + bbcode.n + '"></span>');
                    });
                    $(this).html(str);
                    $(_cfg.handle).html(default_label).attr({ 'style': default_style }).addClass(default_css);
                })
            },
            __remove: function () { // remove emoticon
                $(obj).find('span.emoticon_show').each(function () {
                    var iE = Number(this.className.split('emoticon_show ')[1]);
                    $(this).attr({ 'class': '' }).addClass('emoticon_hide ' + iE).html(_cfg.emoticons[iE]);
                });
                $(_cfg.handle).html(_cfg.label).attr({ 'style': _cfg.style }).addClass(_cfg.css);
            },
            __again: function () {
                $(obj).find('span.emoticon_hide').each(function () {
                    var iE = Number(this.className.split('emoticon_hide ')[1]);
                    $(this).attr({ 'class': '' }).addClass('emoticon_show ' + iE).html('<img  src="' + _cfg.dir + iE + '.' + _cfg.emoticon_ext + '" />');
                });
                $(_cfg.handle).html(default_label).attr({ 'style': default_style }).addClass(default_css);
            }
        };

        $(_cfg.handle).toggle(funct.__remove, funct.__again);
        funct.__load();
        return false;
    };
})(jQuery);